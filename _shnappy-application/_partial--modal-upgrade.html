<script>
  $(document).ready(function(){

    modal();
    annualSwitch();

    function modal() {
      var trigger = $('.js-modal-trigger');
      var overlay = $('.js-modal-overlay');
      var content = $('.js-modal-content');
      var close = $('.js-modal-close');
      var state = 'closed';

      trigger.click(function () {
        if (state == 'closed') {
          openOverlay();
        } else {
          closeOverlay();
        }
      });


      if (overlay.hasClass('modal-overlay--active') == true) {
        state = 'open';
      } else {
        state = 'closed';
      }

      close.click(function () {
        closeOverlay();
      });

      content.click(function (event) {
        event.stopPropagation();
      });

      overlay.click(function () {
        if (state == 'open') {
          closeOverlay();
        }
      });

      function openOverlay() {
        overlay.addClass('modal-overlay--active');
        state = 'open';
      }

      function closeOverlay() {
        overlay.removeClass('modal-overlay--active');
        state = 'closed';
      }
    };

    // switch
    function annualSwitch() {
      $('.js-annual-switch').each(function () {
        var buttons = $(this).children('.js-annual-button');

        buttons.click(function () {
          annualToggle($(this));
        });

        function annualToggle(button) {
          buttons.removeClass('annual-switch__button--active');
          button.addClass('annual-switch__button--active');
        }
      });
    }
  });
</script>

<div class="modal-overlay js-modal-overlay">
  <div class="center center--960">

    <div class="modal js-modal-content">
      <div class="modal__close js-modal-close">
        <div class="flat-icon icon--16 icon--cross"></div>
      </div>


      <div class="modal-upgrade">
        <h1 class="modal-upgrade__headline">Way to go! You're ready for an upgrade!</h1>
        <div class="modal-upgrade__annual-switch">
          <div class="annual-switch js-annual-switch">
            <div class="annual-switch__button js-annual-button">Monthly</div>
            <div class="annual-switch__button js-annual-button annual-switch__button--active">Annual</div>
          </div>
        </div>
        <div class="modal-upgrade__section">
          <div class="modal-upgrade__title">Earlybird plans - <em>limited time only!</em></div>
          <div class="modal-upgrade__plan">
            <!-- Plan block -->
            <div class="plan-block">
              <div class="plan-block__title">Beta Free</div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Feature name</div>
              </div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Feature name</div>
              </div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Feature name</div>
              </div>

              <div class="plan-block__button">
                <a class="button button--36 button--grey button--disabled">Current plan</a>
              </div>
            </div>
          </div>
          <div class="modal-upgrade__plan">
            <!-- Plan block -->
            <div class="plan-block plan-block--green">
              <div class="plan-block__title">Beta Special</div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Feature name</div>
              </div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Feature name</div>
              </div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Feature name</div>
              </div>

              <div class="plan-block__button">
                <a class="button button--36 button--green" href="account--billing--payment.html">Choose Plan</a>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-upgrade__section">
          <div class="modal-upgrade__title">Regular pricing - <em>coming soon!</em></div>
          <div class="modal-upgrade__plan">
            <!-- Plan block -->
            <div class="plan-block">
              <div class="plan-block__title">Freelancer</div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">1 Client</div>
              </div>

              <div class="plan-block__button">
                <a class="button button--36 button--disabled">Coming soon</a>
              </div>
            </div>
          </div>
          <div class="modal-upgrade__plan">
            <!-- Plan block -->
            <div class="plan-block">
              <div class="plan-block__title">Indie</div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">5 Clients</div>
              </div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Studio Website</div>
              </div>

              <div class="plan-block__button">
                <a class="button button--36 button--disabled">Coming soon</a>
              </div>
            </div>
          </div>

          <div class="modal-upgrade__plan">
            <!-- Plan block -->
            <div class="plan-block">
              <div class="plan-block__title">Profesional</div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">25 Clients</div>
              </div>
              <div class="plan-block__feature">
                <div class="plan-block__feature-icon">
                  <div class="icon--test"></div>
                </div>
                <div class="plan-block__feature-text">Studio Website</div>
              </div>

              <div class="plan-block__button">
                <a class="button button--36 button--disabled">Coming soon</a>
              </div>
            </div>

          </div>
        </div>
        <div class="modal-upgrade__message">
          <p>Donâ€˜t worry, you can upgrade, downgrade or cancel your plan at any time!</p>
        </div>


      </div>
    </div>
  </div>
</div>